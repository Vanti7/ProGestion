apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
	name: portfolio-ingress
	annotations:
		ingress.kubernetes.io/ssl-redirect: "false"
		kubernetes.io/ingress.class: traefik
spec:
	tls:
		- hosts:
			- portfolio.local
		  secretName: portfolio-tls
	rules:
		- host: portfolio.local
		  http:
			paths:
				- path: /
				  pathType: Prefix
				  backend:
					service:
						name: portfolio-frontend
						port:
							number: 80
				- path: /api
				  pathType: Prefix
				  backend:
					service:
						name: portfolio-backend
						port:
							number: 80

